<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>时间线样式测试</title>
    <style>
        i:after{
            content: ' 哈哈';
            display:inline-block;
            color:red;
        }
    </style>
</head>
<body>
<select name="" id="select">
    <option value="1111">1111</option>
    <option value="1111">1112</option>
    <option value="1111">1113</option>
</select>
<input type="text" id="qwer" >
<label for="select">sdsd</label>


    <input type="text" value="张三,李四,陈6,王7,程8" />
    <button>click</button>
    1111
    <script>
        var dom = document.getElementById('select');
        var dom2 = document.getElementById('qwer');
        dom.onclick = function(){
            dom2.focus()
        };


        let input = document.querySelectorAll('input')[0];
        input.onkeydown = function(e){
            console.log(e);
        }

        let button = document.querySelectorAll('button')[0];
        button.onclick = function(){
            let data = '张三,李四,陈6,王7,程8'; //未修改前用户数据
            let _data = input.value; //修改后用户数据
            let startIndex;  //不同的起始索引位置
            let endIndex;  //不同的结束索引位置
            let same = 0;   //统计没删除的用户数目
            let dataArray = data.split(',');
            let _dataArray = _data.split(',');

            for(let i = 0;i<_dataArray.length;i++){
                if(_dataArray[i] !== dataArray[i]){
                    startIndex = i;
                    break;
                }else{
                    same ++;
                }
            }
            for(let i = 0;i<_dataArray.length;i++){
                if(_dataArray[_dataArray.length - i - 1] !== dataArray[dataArray.length - i - 1]){
                    endIndex = dataArray.length - i - 1;
                    break;
                }else{
                    same ++;
                }
            }

            //判断是否多判断删除数目
            if(_dataArray[startIndex] != dataArray[endIndex]){
                let _start = _dataArray[startIndex];
                let _end = dataArray[endIndex];
//                if(_start.endsWith(_end)){
//                    same ++;
//                }
                if(_start.lastIndexOf(_end) !== -1){
                    if(_start.lastIndexOf(_end) + _end.length === _start.length){
                        same ++;
                    }
                }
            }

            console.log(dataArray);
            console.log('startIndex:' + startIndex);
            console.log('delLength:' + (dataArray.length - same));
        }
    </script>
</body>
</html>